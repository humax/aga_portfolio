




    <!-- JS Libraries-->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

    <!-- JS App files-->
    <script type="text/javascript">
      var currentCard;
      var childIdx = 0;

      function showLightBox(card){
        // console.log(card);
        currentCard = card;

        $("#lbImg").attr("src", card.url);
        $("#lbTitle").text(card.title);
        $("#lbDescription").text(card.desc);

        if ( card.category === "Architecture" && card.imgs.length > 1){
          $("[data-slide]").removeClass("hidden");
          if (childIdx === 0){ $('[data-slide="prev"]').addClass("hidden"); }
          if (childIdx === (currentCard.imgs.length-1)) { $('[data-slide="next"]').addClass("hidden"); }
        }

        $("#lightbox").addClass("lbAnimate");
      }


      function hideLightBox(){
        // console.log(card);
        currentCard = null;
        childIdx = 0;

        $("#lbImg").attr("src", "");
        $("#lbTitle").text("");
        $("#lbDescription").text("");

        $("[data-slide]").addClass("hidden");
        $("#lightbox").removeClass("lbAnimate");
      }

      function nextImg(event){
        if ( currentCard.imgs && (currentCard.imgs.length > 1) && (currentCard.imgs.length-1 > childIdx) ){
          childIdx++;
          if (childIdx === (currentCard.imgs.length-1)) {
            $('[data-slide="next"]').addClass("hidden");
          }else {
            $('[data-slide="next"]').removeClass("hidden");
          }

          if (childIdx === 0){
            $('[data-slide="prev"]').addClass("hidden");
          } else {
            $('[data-slide="prev"]').removeClass("hidden");
          }

          $("#lbImg").attr("src", currentCard.imgs[childIdx]);
        }

        event.stopPropagation();
      }

      function prevImg(event){
        if ( currentCard.imgs && (currentCard.imgs.length > 1) && (childIdx > 0) ){
          childIdx--;

          if (childIdx === (currentCard.imgs.length-1)) {
            $('[data-slide="next"]').addClass("hidden");
          }else {
            $('[data-slide="next"]').removeClass("hidden");
          }

          if (childIdx === 0){
            $('[data-slide="prev"]').addClass("hidden");
          } else {
            $('[data-slide="prev"]').removeClass("hidden");
          }

          $("#lbImg").attr("src", currentCard.imgs[childIdx]);
        }

        event.stopPropagation();
      }


      function navSelectOption(pos){
        // console.log("selecting: " + pos);
        if ( pos < 4 ){
          $("#navbar > ul > li.active").removeClass("active");
          $("#navbar > ul > li:nth-child(" + pos + ")").addClass("active");
          $("#lightbox").removeClass("lbAnimate");
        }
        if ( pos === 1 ){
          $( "[data-card-id]" ).show("slow", function(){this.setAttribute("display", "block");} );
        } else if ( pos === 2 ){
          $( "[data-card-category='Art']" ).hide("slow", function(){$( "[data-card-category='Art']" ).setAttribute("display", "none");});
          $( "[data-card-category='Architecture']" ).show("slow", function(){this.setAttribute("display", "block");});
        } else if ( pos === 3 ){
          $( "[data-card-category='Art']" ).show("slow", function(){this.setAttribute("display", "block");});
          $( "[data-card-category='Architecture']" ).hide("slow", function(){this.setAttribute("display", "none");});        }
      }
    </script>
  </body>
</html>
